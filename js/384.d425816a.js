"use strict";(self["webpackChunkwangyiyun"]=self["webpackChunkwangyiyun"]||[]).push([[384],{2384:function(n,a,e){e.r(a),e.d(a,{default:function(){return Q}});var s=e(3396);function i(n,a,e,i,t,o){const c=(0,s.up)("HomeTop"),u=(0,s.up)("HomeBanner"),r=(0,s.up)("HomeIconList"),d=(0,s.up)("HomeMusicMenu");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(c),(0,s.Wm)(u,{banners:n.banners},null,8,["banners"]),(0,s.Wm)(r),(0,s.Wm)(d,{musicMenu:n.musicMenu},null,8,["musicMenu"])],64)}var t=e(7139);const o=n=>((0,s.dD)("data-v-1a347bac"),n=n(),(0,s.Cn)(),n),c=o((()=>(0,s._)("p",null,"分享该网站",-1))),u={class:"top-nav"},r={class:"top-left"},d=o((()=>(0,s._)("use",{"xlink:href":"#icon-fenxiang"},null,-1))),l=[d],p={class:"top-content"},m={class:"top-right"},v=o((()=>(0,s._)("use",{"xlink:href":"#icon-sousuo"},null,-1))),h=[v];function g(n,a,e,i,o,d){const v=(0,s.up)("van-loading"),g=(0,s.up)("van-image"),w=(0,s.up)("van-popup");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(w,{class:"share",show:i.showShare,"onUpdate:show":a[1]||(a[1]=n=>i.showShare=n),style:(0,t.j5)({padding:".2rem"})},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{width:"5rem",height:"5rem",fit:"contain",src:i.shareImg},{loading:(0,s.w5)((()=>[(0,s.Wm)(v,{type:"spinner",size:"20"})])),error:(0,s.w5)((()=>[(0,s._)("p",{onClick:a[0]||(a[0]=(...n)=>i.getshareImg&&i.getshareImg(...n))},"加载失败，点击重试")])),_:1},8,["src"]),c])),_:1},8,["show","style"]),(0,s._)("div",u,[(0,s._)("div",r,[((0,s.wg)(),(0,s.iD)("svg",{class:"icon","aria-hidden":"true",onClick:a[2]||(a[2]=n=>i.showShare=!0)},l))]),(0,s._)("div",p,[(0,s._)("span",{class:(0,t.C_)(["active",{active:"Home"===n.$route.name}])},"发现",2)]),(0,s._)("div",m,[((0,s.wg)(),(0,s.iD)("svg",{class:"icon","aria-hidden":"true",onClick:a[3]||(a[3]=a=>n.$router.push("/Search"))},h))])])],64)}var w=e(4870),_={name:"HomeTop",setup(){const n=(0,w.iH)(!1),a=(0,w.iH)("");function e(){!0===n.value&&(a.value=`https://api.pwmqr.com/qrcode/create/?url=${location.href}`)}return(0,s.YP)(n,(()=>{e()})),{showShare:n,shareImg:a,getshareImg:e}}},f=e(89);const H=(0,f.Z)(_,[["render",g],["__scopeId","data-v-1a347bac"]]);var k=H;const y={class:"home-banner"},M=["src"];function b(n,a,e,i,t,o){const c=(0,s.up)("van-swipe-item"),u=(0,s.up)("van-swipe");return(0,s.wg)(),(0,s.iD)("div",y,[(0,s.Wm)(u,{autoplay:3e3,"lazy-render":""},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.banners,((n,a)=>((0,s.wg)(),(0,s.j4)(c,{key:a},{default:(0,s.w5)((()=>[(0,s._)("img",{src:n.pic},null,8,M)])),_:2},1024)))),128))])),_:1})])}var C={name:"HomeBanner",props:{banners:Array}};const D=(0,f.Z)(C,[["render",b],["__scopeId","data-v-14731f06"]]);var I=D;const x=(0,s.uE)('<div class="icon-item" data-v-090d77a9><svg class="icon" aria-hidden="true" data-v-090d77a9><use xlink:href="#icon-tuijian" data-v-090d77a9></use></svg><span data-v-090d77a9>每日推荐</span></div><div class="icon-item" data-v-090d77a9><svg class="icon" aria-hidden="true" data-v-090d77a9><use xlink:href="#icon-gedan" data-v-090d77a9></use></svg><span data-v-090d77a9>歌单</span></div><div class="icon-item" data-v-090d77a9><svg class="icon" aria-hidden="true" data-v-090d77a9><use xlink:href="#icon-paihangbang_paiming" data-v-090d77a9></use></svg><span data-v-090d77a9>音乐排行榜</span></div>',3),W=[x];function Z(n,a,e,i,t,o){return(0,s.wg)(),(0,s.iD)("div",{class:"home-icon-list",onClick:a[0]||(a[0]=(...n)=>o.tip&&o.tip(...n))},W)}e(8146);var j=e(3776),S={name:"HomeIconList",methods:{tip(){(0,j.Z)("暂未完成")}}};const Y=(0,f.Z)(S,[["render",Z],["__scopeId","data-v-090d77a9"]]);var q=Y;const z=n=>((0,s.dD)("data-v-2939936a"),n=n(),(0,s.Cn)(),n),B={class:"home-music-menu"},F=z((()=>(0,s._)("div",{class:"music-top"},[(0,s._)("div",{class:"title"},"发现好歌单")],-1))),K={class:"music-content"},L=["src","alt"],T={class:"play-count"},U=z((()=>(0,s._)("svg",{class:"icon","aria-hidden":"true"},[(0,s._)("use",{"xlink:href":"#icon-yunhang"})],-1))),$={class:"name"};function A(n,a,e,i,o,c){const u=(0,s.up)("van-swipe-item"),r=(0,s.up)("van-swipe");return(0,s.wg)(),(0,s.iD)("div",B,[F,(0,s._)("div",K,[(0,s.Wm)(r,{loop:!1,width:150,"show-indicators":!1,class:"my-swipe"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.musicMenu,(n=>((0,s.wg)(),(0,s.j4)(u,{key:n.id,onClick:a=>i.toRoute(n.id)},{default:(0,s.w5)((()=>[(0,s._)("img",{src:n.picUrl,alt:n.name},null,8,L),(0,s._)("span",T,[U,(0,s.Uk)(" "+(0,t.zw)(i.changeCount(n.playCount)),1)]),(0,s._)("span",$,(0,t.zw)(n.name),1)])),_:2},1032,["onClick"])))),128))])),_:1})])])}var R=e(678),E={name:"HomeMusicMenu",props:{musicMenu:Array},setup(){const n=(0,R.tv)();function a(n){return n>=1e8?(n/1e8).toFixed(2)+"亿":n>=1e4?(n/1e4).toFixed(2)+"万":n}function e(a){n.push({name:"MusicDetail",query:{id:a}})}return{changeCount:a,toRoute:e}}};const G=(0,f.Z)(E,[["render",A],["__scopeId","data-v-2939936a"]]);var P=G,J=e(5101),N={name:"Home",components:{HomeTop:k,HomeBanner:I,HomeIconList:q,HomeMusicMenu:P},setup(){const n=(0,w.qj)({banners:[],musicMenu:[]});return(0,J.dM)().then((a=>{n.banners=a.banners})),(0,J.FG)().then((a=>{n.musicMenu=a.result})),{...(0,w.BK)(n)}}};const O=(0,f.Z)(N,[["render",i]]);var Q=O}}]);
//# sourceMappingURL=384.d425816a.js.map