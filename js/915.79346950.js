"use strict";(self["webpackChunkwangyiyun"]=self["webpackChunkwangyiyun"]||[]).push([[915],{7178:function(s,e,i){i.d(e,{Z:function(){return f}});var t=i(3396),r=i(7139);const c={key:0,class:"musicList"},n=["onClick"],o={class:"music-order"},a={class:"music-info"},u={class:"music-name"},l={class:"music-author"},d={key:1,class:"notMusic"};function m(s,e,i,m,y,w){return i.musicList?((0,t.wg)(),(0,t.iD)("ol",c,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(m.selfMusicList,((s,e)=>((0,t.wg)(),(0,t.iD)("li",{key:s.id,class:"music-item"},[(0,t._)("div",{class:"music-left-info",onClick:s=>m.playMusic(e)},[(0,t._)("p",o,(0,r.zw)(e+1),1),(0,t._)("div",a,[(0,t._)("h5",u,(0,r.zw)(s.name),1),(0,t._)("p",l,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.ar,(s=>((0,t.wg)(),(0,t.iD)("span",{key:s.id},(0,r.zw)(s.name),1)))),128))])])],8,n)])))),128))])):((0,t.wg)(),(0,t.iD)("p",d,"未找到音乐"))}i(8146);var y=i(3776),w=i(65),k=i(4870),h={name:"VMusicItem",props:{musicList:Array},setup(s){const e=(0,w.oR)();function i(i){e.commit("FooterMusic/updatePlayList",(0,k.IU)(s.musicList)),e.commit("FooterMusic/updatePlayListIndex",i)}const r=(0,t.Fl)((()=>{if(s.musicList)return s.musicList?.map((s=>({id:s.id,name:s.name||s.al.name||s.album.name,ar:s.ar||s.artists,mv:+(s.mv?.toString()||s.mvid?.toString())})));(0,y.Z)("未找到对应歌曲")}));return{playMusic:i,selfMusicList:r}}},p=i(89);const g=(0,p.Z)(h,[["render",m],["__scopeId","data-v-86416232"]]);var f=g},3915:function(s,e,i){i.r(e),i.d(e,{default:function(){return M}});var t=i(3396),r=i(9242),c=i(7139);const n=s=>((0,t.dD)("data-v-79b7d522"),s=s(),(0,t.Cn)(),s),o={class:"searchInputBox"},a=n((()=>(0,t._)("use",{"xlink:href":"#icon-zuojiantou"},null,-1))),u=[a],l={class:"searchHistory"},d=n((()=>(0,t._)("span",{class:"searchHistoryTitle"},"历史",-1))),m={class:"historyBody"},y=["onClick"],w=n((()=>(0,t._)("use",{"xlink:href":"#icon-shanchu"},null,-1))),k=[w];function h(s,e,i,n,a,w){const h=(0,t.up)("VMusicItem");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",o,[((0,t.wg)(),(0,t.iD)("svg",{class:"icon","aria-hidden":"true",onClick:e[0]||(e[0]=e=>s.$router.go(-1))},u)),(0,t.wy)((0,t._)("input",{type:"text",placeholder:"请输入搜索歌曲","onUpdate:modelValue":e[1]||(e[1]=s=>n.searchObj.keyword=s),onKeyup:e[2]||(e[2]=(0,r.D2)(((...s)=>n.searchMusic&&n.searchMusic(...s)),["enter"]))},null,544),[[r.nr,n.searchObj.keyword,void 0,{trim:!0}]])]),(0,t._)("div",l,[d,(0,t._)("div",m,[(0,t._)("p",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(n.searchObj.keywordList,(s=>((0,t.wg)(),(0,t.iD)("span",{onClick:e=>n.searchHistory(s)},(0,c.zw)(s),9,y)))),256))])]),((0,t.wg)(),(0,t.iD)("svg",{class:"icon","aria-hidden":"true",onClick:e[3]||(e[3]=(...s)=>n.delHistory&&n.delHistory(...s))},k))]),(0,t.Wm)(h,{musicList:n.searchObj.searchResult},null,8,["musicList"])],64)}i(8146);var p=i(3776),g=i(4870),f=i(5101),L=i(7178),v={name:"Search",components:{VMusicItem:L.Z},setup(){const s=(0,g.qj)({keyword:"",keywordList:JSON.parse(localStorage.getItem("keywordList"))||[],searchResult:[]});async function e(e){const i=await(0,f.rY)({keywords:e});s.searchResult=i.result.songs}function i(){s.keyword.trim()?(e(s.keyword),s.keywordList.unshift(s.keyword),s.keywordList=[...new Set(s.keywordList)].slice(0,10),localStorage.setItem("keywordList",JSON.stringify(s.keywordList))):(0,p.Z)({message:"搜索内容不能为空",type:"fail"})}function t(e){s.keyword=e,i()}function r(){localStorage.getItem("keywordList")&&s.keywordList.length?confirm("确认清空历史记录吗")&&(s.keywordList=[],localStorage.removeItem("keywordList")):(0,p.Z)("内容已经被清空啦")}return{searchObj:s,searchMusic:i,delHistory:r,searchHistory:t}}},_=i(89);const D=(0,_.Z)(v,[["render",h],["__scopeId","data-v-79b7d522"]]);var M=D}}]);
//# sourceMappingURL=915.79346950.js.map